<div id="entryCR" class="row" data-bind="with: dataEntryCibilReport">
  <div class="col-md-12 cibilgridfixed">
    <div style="margin: 10px; background-color: #fafafa;" id="cibilgrid-container">
      <table class="k-grid table-bordered" style="margin-bottom: 0px; width: 100%;" id="tblCibilReportSumarry6">
        <thead>
          <tr><th colspan="6">Profile</th></tr>
        </thead>
        <tbody>
          <tr>
            <td class="sub-bgcolor">Company Name</td>
            <td><textarea type="text"  data-bind="value:Profile().CompanyName" class="form-control input-sm"></textarea></td>
            <td class="sub-bgcolor">Deal No</td>
            <td><input type="text"  class="form-control input-sm" data-bind="value: Profile().DealNo" disabled="disabled"></td>
            <td class="sub-bgcolor">Customer Id</td>
            <td><input type="number"  class="form-control input-sm" data-bind="value: Profile().CustomerId" disabled="disabled"></td>
          </tr>
          <tr>
            <td class="sub-bgcolor">Duns Number</td>
            <td><input type="text"   class="form-control input-sm" data-bind="value: Profile().DunsNumber"></td>
            <td class="sub-bgcolor">Pan</td>
            <td><input type="text" class="form-control input-sm" data-bind="value: Profile().Pan"></td>
            <td class="sub-bgcolor">Address</td>
            <td><textarea type="text" class="form-control input-sm" data-bind="value: Profile().Address"></textarea></td>
          </tr>
          <tr>
            <td class="sub-bgcolor">City / Town</td>
            <td><input type="text"   class="form-control input-sm" data-bind="value: Profile().CityTown"></td>
            <td class="sub-bgcolor">Telephone</td>
            <td><input type="number" onkeydown="return FilterInput(event)" class="form-control input-sm" data-bind="value: Profile().Telephone"></td>
            <td class="sub-bgcolor">State / Union</td>
            <td><input type="text" class="form-control input-sm" data-bind="value: Profile().StateUnion"></td>
          </tr>
          <tr>
            <td class="sub-bgcolor">Pin Code</td>
            <td><input type="number" onkeydown="return FilterInput(event)"   class="form-control input-sm" data-bind="value: Profile().PinCode"></td>
            <td class="sub-bgcolor">Country</td>
            <td><input type="text" class="form-control input-sm" data-bind="value: Profile().Country"></td>
            <td class="sub-bgcolor">File Open Date</td>
            <td><input required name="File Open Date" type="text" class="form-control input-sm" data-bind="kendoDatePicker:{value: Profile().FileOpenDate, format: 'dd-MMM-yyyy'}"><br/><span  class="k-invalid-msg" data-for="File Open Date"/></span></td>
          </tr>
        </tbody>
      </table>
      <table class="k-grid table-bordered" style="margin-bottom: 0px; width: 100%;" id="tblCibilReportSumarry1">
        <thead>
          <tr><th colspan="6">Report Summary</th></tr>
        </thead>
        <tbody>
          <tr>
            <td class="sub-bgcolor">No. of Credit Grantors</td>
            <td style="width: 60px;"><input type="number" onkeydown="return FilterInput(event)"  name="noCreditGrantors" class="form-control input-sm" data-bind="value:ReportSummary().Grantors"></td>
            <td class="sub-bgcolor">No. of Credit Facilities</td>
            <td><input type="number" onkeydown="return FilterInput(event)"  name="noCreditFacilities" class="form-control input-sm" data-bind="value:ReportSummary().Facilities"></td>
            <td class="sub-bgcolor">No. of Closed Credit Facilities</td>
            <td><input type="number" onkeydown="return FilterInput(event)"  name="noClosedCreditFacilities" class="form-control input-sm" data-bind="value:ReportSummary().CreditFacilities"></td>
          </tr>
          <tr>
            <td class="sub-bgcolor">No. of Credit Facilities <br>Guaranteed by Others</td>
            <td><input type="number" onkeydown="return FilterInput(event)"  name="noCreditFacilitiesGrantorsGuarantedOther" class="form-control input-sm" data-bind="value:ReportSummary().FacilitiesGuaranteed"></td>
            <td class="sub-bgcolor">Latest Credit Facility Open Date</td>
            <td><input required name="Latest Credit Facility Open Date" type="text" name="noCreditFacilities" class="form-control input-sm" data-bind="kendoDatePicker:{value:ReportSummary().LatestCreditFacilityOpenDate, format: 'dd-MMM-yyyy'}"><br/><span style="margin-top: 3px;" class="k-invalid-msg" data-for="Latest Credit Facility Open Date"></span></td>
            <td class="sub-bgcolor">First Credit Facility Open Date</td>
            <td><input required name="First Credit Facility Open Date" type="text" name="noClosedCreditFacilities" class="form-control input-sm" data-bind="kendoDatePicker:{value:ReportSummary().FirstCreditFacilityOpenDate, format: 'dd-MMM-yyyy'}"><br/><span style="margin-top: 3px;" class="k-invalid-msg" data-for="First Credit Facility Open Date"></span></td>
          </tr>
        </tbody>
      </table>

      <table class="k-grid table-bordered" width="100%" style="margin-bottom: 0px;" id="tblCibilReportSumarry2">
        <thead>
          <tr>
            <th class="sub-bgcolor text-center" style="min-width: 94px;">Credit Facilities</th>
            <th class="sub-bgcolor text-center">No. of Standard</th>
            <th class="sub-bgcolor text-center">Current Balance in Standard</th>
            <th class="sub-bgcolor text-center">No. of Other than Standard</th>
            <th class="sub-bgcolor text-center">Current Balance in Other than Standard</th>
            <th class="sub-bgcolor text-center">No. of Law Suits</th>
            <th class="sub-bgcolor text-center">No. of Wilful Defaults</th>
            <th class="sub-bgcolor text-center">Action</th>
          </tr>
        </thead>
        <tbody data-bind="foreach: DetailReportSummary">
          <tr>
            <td class="text-center"><input type="text" class="form-control input-sm onlyNumb" data-bind="value: CreditFacilities"></td>
            <td><input type="text" class="form-control input-sm onlyNumb" data-bind="value:CurrentBalanceOtherThanStandard"></td>
            <td><input type="text" class="form-control input-sm onlyNumb" data-bind="value:CurrentBalanceStandard"></td>
            <td><input type="text" class="form-control input-sm onlyNumb" data-bind="value:NoOfLawSuits"></td>
            <td><input type="text" class="form-control input-sm onlyNumb" data-bind="value:NoOfOtherThanStandard"></td>
            <td><input type="text" class="form-control input-sm onlyNumb" data-bind="value:NoOfStandard"></td>
            <td><input type="text" class="form-control input-sm onlyNumb" data-bind="value:NoOfWilfulDefaults"></td>
            <td><button class="btn btn-sm btn-danger" data-bind="click:cibil.removeDetailReportSummary, visible:$index() > 0"><span class="fa fa-remove"></span></button></td>
          </tr>
        </tbody>
      </table>
      <br>
      <button class="btn btn-sm btn-success" onclick="cibil.addDetailReportSummary()"><span class="fa fa-plus"></span> Add Row</button>
      <div class="spacer"></div>
      <table class="k-grid table-bordered" style="margin-bottom: 0px;" id="tblCibilCreditTypeSummary">
        <thead>
          <tr><th colspan="10">Credit Type Summary</th></tr>
        </thead>
        <thead>
          <tr style="text-align: center;">
            <th class="sub-bgcolor text-center" rowspan="2">No. of Credit Facilities As Borrower</th>
            <th class="sub-bgcolor text-center" rowspan="2">Credit Type</th>
            <th class="sub-bgcolor text-center" rowspan="2">Currency Code</th>
            <th class="sub-bgcolor text-center" colspan="5" style="text-align: center !important;">Asset Classification</th>
            <th class="sub-bgcolor text-center" rowspan="2">Current Balance</th>
            <th class="sub-bgcolor text-center" rowspan="2">Action</th>
          </tr>
          <tr>
            <th class="sub-bgcolor text-center" style="min-width: 100px">Standard</th>
            <th class="sub-bgcolor text-center" style="min-width: 100px">Sub - Standard</th>
            <th class="sub-bgcolor text-center" style="min-width: 100px">Doubtful</th>
            <th class="sub-bgcolor text-center" style="min-width: 100px">Loss</th>
            <th class="sub-bgcolor text-center" style="min-width: 110px">Special Mention A/C</th>
          </tr>
        </thead>
        <tbody data-bind="foreach: CreditTypeSummary">
          <tr>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm" data-bind="value:NoCreditFacilitiesBorrower"></td>
            <td><textarea data-bind="value:CreditType" ></textarea></td>
            <td><input type="text" class="form-control input-sm" data-bind="value:CurrencyCode"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm" data-bind="value:Standard" ></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm" data-bind="value:Substandard"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm" data-bind="value:Doubtful"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm" data-bind="value:Loss"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm" data-bind="value:SpecialMention"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm" data-bind="value:TotalCurrentBalance"></td>
            <td><button class="btn btn-sm btn-danger" data-bind="click:cibil.removeCreditTypeSummary, visible:$index() > 0"><span class="fa fa-remove"></span></button></td>
          </tr>
        </tbody>
      </table>
      <br>
      <button class="btn btn-sm btn-success" onclick="cibil.addCreditTypeSummary()"><span class="fa fa-plus"></span> Add Row</button>
      <br>
      <br>
      <table class="k-grid table-bordered" style="margin-bottom: 0px;" id="tblCibilCreditTypeSummary">
        <thead>
          <tr><th colspan="9">Enquiry Summary</th></tr>
        </thead>
        <thead>
          <tr>
            <th class="sub-bgcolor text-center">Enquiry</th>
            <th class="sub-bgcolor text-center" style="width:68px">3 Months</th>
            <th class="sub-bgcolor text-center" style="width:68px">6 Months</th>
            <th class="sub-bgcolor text-center" style="width:68px">9 Months</th>
            <th class="sub-bgcolor text-center" style="width:68px">12 Months</th>
            <th class="sub-bgcolor text-center" style="width:68px">24 Months</th>
            <th class="sub-bgcolor text-center" style="width:68px">>24 Months</th>
            <th class="sub-bgcolor text-center">Total</th>
            <th class="sub-bgcolor text-center" style="min-width:100px">Most Recent Date</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="th">No. of Enquiries</td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm calculateMonth" data-bind="value:EnquirySummary().Enquiries3Month"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm calculateMonth" data-bind="value:EnquirySummary().Enquiries6Month"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm calculateMonth" data-bind="value:EnquirySummary().Enquiries9Month"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm calculateMonth" data-bind="value:EnquirySummary().Enquiries12Month"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm calculateMonth" data-bind="value:EnquirySummary().Enquiries24Month"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm calculateMonth" data-bind="value:EnquirySummary().EnquiriesThan24Month"></td>
            <td><input type="number" onkeydown="return FilterInput(event)"  class="form-control input-sm" data-bind="value:EnquirySummary().TotalEnquiries" ></td>
            <td style="width: 120px;"><input required name="Most Recent Date" type="text" class="form-control input-sm" data-bind="kendoDatePicker:{value:EnquirySummary().MostRecentDate, format: 'dd-MMM-yyyy'}"><br/><span style="margin-top: 3px;" class="k-invalid-msg" data-for="Most Recent Date"></span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-md-12">
    <div style="text-align: center">
      <button class="btn btn-sm btn-primary" onclick="saveCibilReport('submit')">
      <span class="glyphicon glyphicon-ok"></span>&nbsp;
      Submit Details</button> &nbsp;
      <button class="btn btn-sm btn-primary" data-bind="visible: (cibil.reportDraft().Status == undefined || (cibil.reportDraft().Status != undefined && cibil.reportDraft().Status == 0))" onclick="saveCibilReport('save')">
        <span class="glyphicon glyphicon-floppy-disk"></span>&nbsp;
      Save Draft</button>&nbsp;&nbsp;
      <button class="btn btn-sm btn-warning" onclick="backToMain();">
      <span class="glyphicon glyphicon-share-alt"></span>&nbsp;
       Cancel</button>
    </div>
  </div>
</div>
